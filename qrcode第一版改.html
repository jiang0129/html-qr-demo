@*@{
        ViewBag.Title = "Home Page";
    }

    <script src="https://unpkg.com/html5-qrcode"></script>

    <h3 id="title">æ¸¬è©¦ç”¨</h3>

    <div id="qr-reader" style="width:500px"></div>
    <div id="qr-reader-results"></div>

    <script>

        var resultContainer = document.getElementById('qr-reader-results');
        var lastResult, countResults = 0;

        function onScanSuccess(decodedText, decodedResult) {
            if (decodedText !== lastResult) {
                ++countResults;
                lastResult = decodedText;
                // Handle on success condition with the decoded message.
                console.log(`Scan result ${decodedText}`, decodedResult);
            }
        }

        var html5QrcodeScanner = new Html5QrcodeScanner(
            "qr-reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess);

    </script>*@



@*@{
        ViewBag.Title = "Contact";
    }

    <html>
    <head>
        <script src="https://unpkg.com/html5-qrcode"></script>
    </head>
    <body>
        <h3 id="title">æ¸¬è©¦ç”¨11111111111111111</h3>
        <div id="qr-reader" style="width:500px"></div>
        <div id="qr-reader-results"></div>
    </body>
    </html>
    <script>
        function docReady(fn) {
            // see if DOM is already available
            if (document.readyState === "complete"
                || document.readyState === "interactive") {
                // call on next available tick
                setTimeout(fn, 1);
            } else {
                document.addEventListener("DOMContentLoaded", fn);
            }
        }

        docReady(function () {
            var resultContainer = document.getElementById('qr-reader-results');
            var lastResult, countResults = 0;
            function onScanSuccess(decodedText, decodedResult) {
                if (decodedText !== lastResult) {
                    ++countResults;
                    lastResult = decodedText;
                    // Handle on success condition with the decoded message.
                    console.log(`Scan result ${decodedText}`, decodedResult);
                    // é¡¯ç¤ºåœ¨é é¢ä¸Š
                    resultContainer.innerHTML = `æƒæçµæœ: ${decodedText}`;
                }
            }

            var html5QrcodeScanner = new Html5QrcodeScanner(
                "qr-reader", { fps: 10, qrbox: 250 });
            html5QrcodeScanner.render(onScanSuccess);
        });
    </script>*@


<!--<html>
<head>
    <title>Html-Qrcode Demo</title>
    <body>
        <div id="qr-reader" style="width:500px"></div>
        <div id="qr-reader-results"></div>
    </body>-->
@*<script src="/html5-qrcode.min.js"></script>*@
<!--<script src="https://unpkg.com/html5-qrcode"></script>
    <script>
        function docReady(fn) {
            // see if DOM is already available
            if (document.readyState === "complete"
                || document.readyState === "interactive") {
                // call on next available tick
                setTimeout(fn, 1);
            } else {
                document.addEventListener("DOMContentLoaded", fn);
            }
        }

        docReady(function () {
            var resultContainer = document.getElementById('qr-reader-results');
            var lastResult, countResults = 0;
            function onScanSuccess(decodedText, decodedResult) {
                if (decodedText !== lastResult) {
                    ++countResults;
                    lastResult = decodedText;
                    // Handle on success condition with the decoded message.
                    console.log(`Scan result ${decodedText}`, decodedResult);

                    // é¡¯ç¤ºæƒæçµæœåœ¨ç•«é¢ä¸Š
                    resultContainer.innerHTML = "æƒæåˆ°çš„å…§å®¹ï¼š" + decodedText;


                }
            }

            var html5QrcodeScanner = new Html5QrcodeScanner(
                "qr-reader", { fps: 10, qrbox: 250 });
            html5QrcodeScanner.render(onScanSuccess);
        });
    </script>
</head>
</html>-->
@*<html>  æˆ‘è¦ç”¨é€™å€‹ QRCode Scan!!!
        <head>
            <title>Html-Qrcode Demo ä¿®æ­£ç‰ˆ</title>
        </head>
        <body>
            <h1>Html-Qrcode Demoï¼ˆç©©å®šç‰ˆæœ¬ï¼‰</h1>
            <div id="qr-reader" style="width:500px"></div>
            <div id="qr-reader-results"></div>

            <script src="https://unpkg.com/html5-qrcode"></script>
            <script>
                function docReady(fn) {
                    if (document.readyState === "complete" ||
                        document.readyState === "interactive") {
                        setTimeout(fn, 1);
                    } else {
                        document.addEventListener("DOMContentLoaded", fn);
                    }
                }

                docReady(async function () {
                    const resultContainer = document.getElementById('qr-reader-results');
                    let lastResult = "";
                    let countResults = 0;

                    // ğŸ”¥ å¼·åŒ–ç‰ˆ: æ–°å¢ onScanFailure â†’ ä¿æŒæƒæå¾ªç’°ä¸æœƒå¡
                    function onScanFailure(error) {
                        // éœé»˜è·³éï¼Œä¸è¦é¡¯ç¤º
                        // console.log("æƒæå¤±æ•—ï¼ˆå¿½ç•¥ï¼‰", error);
                    }

                    // ğŸ”¥ æƒææˆåŠŸ
                    function onScanSuccess(decodedText, decodedResult) {
                        if (decodedText !== lastResult) {
                            countResults++;
                            lastResult = decodedText;
                            resultContainer.innerHTML = "æƒæåˆ°çš„å…§å®¹ï¼š" + decodedText;
                        }
                    }

                    // ğŸ”¥ å¼·åˆ¶é¸ç”¨å¾Œé¡é ­ï¼ˆenvironmentï¼‰
                    let config = { facingMode: "environment" };

                    // ä¿®æ­£ï¼šæŠŠ Html5QrcodeScanner çš„è¨­å®šèª¿æ•´åˆ°æœ€ä½³
                    const enhancedConfig = {
                        fps: 15,
                        qrbox: { width: 250, height: 250 }, // é¿å…åŸæœ¬çš„ 400 å¤ªå¤§
                        disableFlip: false, // ä¿ç•™è‡ªå‹•ç¿»è½‰
                        rememberLastUsedCamera: true
                    };

                    // å»ºç«‹ scanner
                    const scanner = new Html5QrcodeScanner(
                        "qr-reader",
                        enhancedConfig
                    );

                    // ğŸ‘‰ é‡è¦ï¼šä½¿ç”¨ render ä½†è£œä¸Š onScanFailure
                    // Html5QrcodeScanner åŸç‰ˆä¸æ”¯æ´ onScanFailureï¼Œæ‰€ä»¥æˆ‘å€‘ patch å®ƒ
                    const oldRender = scanner.render.bind(scanner);

                    scanner.render = function(patchedSuccessCallback) {
                        // ç”¨ patch æ–¹å¼åŠ å…¥ failure callback
                        return oldRender(
                            patchedSuccessCallback,
                            onScanFailure      // ğŸ”¥ åŠ ä¸Š onScanFailure â†’ æŒçºŒæƒæ
                        );
                    };

                    // å•Ÿå‹•
                    scanner.render(onScanSuccess);
                });
            </script>
        </body>
    </html>*@



@*<html lang="zh-Hant">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>QR Code æƒæå™¨</title>
        <script src="https://unpkg.com/html5-qrcode"></script>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                padding: 20px;
            }

            .container {
                background: white;
                border-radius: 15px;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
                max-width: 600px;
                width: 100%;
                padding: 30px;
            }

            h1 {
                color: #333;
                margin-bottom: 10px;
                text-align: center;
            }

            .subtitle {
                text-align: center;
                color: #666;
                margin-bottom: 20px;
                font-size: 14px;
            }

            .controls {
                display: flex;
                gap: 10px;
                margin-bottom: 20px;
                justify-content: center;
            }

            button {
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                background-color: #667eea;
                color: white;
                cursor: pointer;
                font-weight: bold;
                transition: background-color 0.3s;
            }

                button:hover {
                    background-color: #764ba2;
                }

                button:disabled {
                    background-color: #ccc;
                    cursor: not-allowed;
                }

            #reader {
                width: 100%;
                background-color: #000;
                border-radius: 10px;
                overflow: hidden;
                margin-bottom: 20px;
                aspect-ratio: 1;
            }

            .result-section {
                background-color: #f5f5f5;
                padding: 20px;
                border-radius: 10px;
                margin-bottom: 15px;
            }

            .result-title {
                font-weight: bold;
                color: #333;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
            }

            #result {
                font-size: 18px;
                color: #667eea;
                word-break: break-all;
                min-height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .history {
                margin-top: 15px;
            }

            .history-title {
                font-weight: bold;
                color: #333;
                margin-bottom: 10px;
                font-size: 14px;
                text-transform: uppercase;
            }

            #historyList {
                list-style: none;
                max-height: 150px;
                overflow-y: auto;
                background: white;
                padding: 10px;
                border-radius: 5px;
                border: 1px solid #ddd;
            }

                #historyList li {
                    padding: 8px;
                    margin-bottom: 5px;
                    background-color: #f9f9f9;
                    border-left: 3px solid #667eea;
                    padding-left: 15px;
                    font-size: 14px;
                    color: #333;
                }

            .status {
                text-align: center;
                padding: 10px;
                border-radius: 5px;
                margin-bottom: 15px;
                font-size: 14px;
                font-weight: bold;
            }

                .status.success {
                    background-color: #d4edda;
                    color: #155724;
                    border: 1px solid #c3e6cb;
                }

                .status.error {
                    background-color: #f8d7da;
                    color: #721c24;
                    border: 1px solid #f5c6cb;
                }

                .status.info {
                    background-color: #d1ecf1;
                    color: #0c5460;
                    border: 1px solid #bee5eb;
                }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>ğŸ” QR Code æƒæå™¨</h1>
            <p class="subtitle">å°‡ QR Code å°æº–é¡é ­è‡ªå‹•æƒæè§£æ</p>

            <div class="controls">
                <button id="startBtn" onclick="startScanning()">é–‹å§‹æƒæ</button>
                <button id="stopBtn" onclick="stopScanning()" disabled>åœæ­¢æƒæ</button>
                <button id="clearBtn" onclick="clearHistory()">æ¸…é™¤æ­·å²</button>
            </div>

            <div id="statusMsg" class="status info" style="display: none;"></div>

            <div id="reader"></div>

            <div class="result-section">
                <div class="result-title">æƒæçµæœ</div>
                <div id="result">ç­‰å¾…æƒæ...</div>
            </div>

            <div class="history">
                <div class="history-title">æƒææ­·å²</div>
                <ul id="historyList">
                    <li>å°šç„¡æƒæç´€éŒ„</li>
                </ul>
            </div>
        </div>

        <script>
            // åˆå§‹åŒ–è®Šæ•¸
            let html5QrCode = null;
            let isScanning = false;
            const scanHistory = [];
            const maxHistoryItems = 10;

            // å–å¾— DOM å…ƒç´ 
            const resultDiv = document.getElementById('result');
            const readerDiv = document.getElementById('reader');
            const statusMsg = document.getElementById('statusMsg');
            const startBtn = document.getElementById('startBtn');
            const stopBtn = document.getElementById('stopBtn');
            const historyList = document.getElementById('historyList');

            /**
             * é¡¯ç¤ºç‹€æ…‹è¨Šæ¯
             */
            function showStatus(message, type = 'info') {
                statusMsg.textContent = message;
                statusMsg.className = `status ${type}`;
                statusMsg.style.display = 'block';

                if (type !== 'success') {
                    setTimeout(() => {
                        statusMsg.style.display = 'none';
                    }, 3000);
                }
            }

            /**
             * æƒææˆåŠŸå›èª¿
             */
            function onScanSuccess(decodedText, decodedResult) {
                // é¡¯ç¤ºæƒæçµæœ
                resultDiv.innerHTML = `<strong>âœ“ ${decodedText}</strong>`;
                showStatus('QR Code æƒææˆåŠŸï¼', 'success');

                // æ–°å¢åˆ°æ­·å²
                addToHistory(decodedText);

                // è‡ªå‹•å°ç„¦å¢å¼·
                if (html5QrCode && html5QrCode.getState() === 2) {
                    // æƒææˆåŠŸå¾Œç¹¼çºŒæƒæ
                }
            }

            /**
             * æƒæå¤±æ•—å›èª¿ï¼ˆéœé»˜æ¨¡å¼ï¼Œä¸é¡¯ç¤ºæ¯ä¸€æ¬¡å¤±æ•—ï¼‰
             */
            function onScanFailure(error) {
                // éœé»˜è™•ç†å¤±æ•—ï¼ŒæŒçºŒæƒæ
            }

            /**
             * æ–°å¢åˆ°æƒææ­·å²
             */
            function addToHistory(text) {
                // ç§»é™¤èˆŠçš„ã€Œå°šç„¡æƒæç´€éŒ„ã€è¨Šæ¯
                if (historyList.children.length === 1 &&
                    historyList.children[0].textContent === 'å°šç„¡æƒæç´€éŒ„') {
                    historyList.innerHTML = '';
                }

                // æ–°å¢æ–°ç´€éŒ„
                const now = new Date();
                const timeStr = now.toLocaleTimeString('zh-TW');
                const li = document.createElement('li');
                li.textContent = `[${timeStr}] ${text}`;

                historyList.insertBefore(li, historyList.firstChild);

                // ä¿æŒæœ€å¤š 10 ç­†ç´€éŒ„
                while (historyList.children.length > maxHistoryItems) {
                    historyList.removeChild(historyList.lastChild);
                }
            }

            /**
             * æ¸…é™¤æƒææ­·å²
             */
            function clearHistory() {
                historyList.innerHTML = '<li>å°šç„¡æƒæç´€éŒ„</li>';
                resultDiv.textContent = 'ç­‰å¾…æƒæ...';
                showStatus('æ­·å²å·²æ¸…é™¤', 'info');
            }

            /**
             * é–‹å§‹æƒæ
             */
            async function startScanning() {
                if (isScanning) return;

                try {
                    showStatus('æ­£åœ¨åˆå§‹åŒ–æ”å½±æ©Ÿ...', 'info');

                    // å–å¾—å¯ç”¨æ”å½±æ©Ÿ
                    const cameras = await Html5Qrcode.getCameras();

                    if (!cameras || cameras.length === 0) {
                        showStatus('æœªåµæ¸¬åˆ°æ”å½±æ©Ÿï¼Œè«‹æª¢æŸ¥è¨­å‚™æ¬Šé™', 'error');
                        return;
                    }

                    // å„ªå…ˆä½¿ç”¨å¾Œç½®é¡é ­ï¼ˆç’°å¢ƒé¡é ­ï¼‰ï¼Œå¦å‰‡ä½¿ç”¨ç¬¬ä¸€å€‹
                    let cameraId = cameras[0].id;
                    const rearCamera = cameras.find(cam =>
                        cam.label.toLowerCase().includes('back') ||
                        cam.label.toLowerCase().includes('rear') ||
                        cam.label.toLowerCase().includes('environment')
                    );

                    if (rearCamera) {
                        cameraId = rearCamera.id;
                    }

                    // åˆå§‹åŒ–æƒæå™¨
                    if (!html5QrCode) {
                        html5QrCode = new Html5Qrcode('reader');
                    }

                    // é…ç½®æƒæåƒæ•¸ï¼ˆå¢å¼·å°ç„¦ï¼‰
                    const qrConfig = {
                        fps: 15,                    // æ¯ç§’å¹€æ•¸ï¼Œå¢åŠ ä»¥æå‡åæ‡‰é€Ÿåº¦
                        qrbox: { width: 250, height: 250 },  // QR Code æª¢æ¸¬å€åŸŸ
                        aspectRatio: 1.0,
                        disableFlip: false          // å…è¨±ç¿»è½‰ä»¥æ”¯æ´å€’ç½®çš„ QR Code
                    };


                    // é…ç½®æ”å½±æ©Ÿï¼ˆåªèƒ½æœ‰ä¸€å€‹ keyï¼‰
                    const config = {
                        deviceId: { exact: cameraId }
                    };

                    //// ä¾è¨­å‚™æ”¯æ´æƒ…æ³æ±ºå®šæ”å½±æ©Ÿè¨­å®š
                    //let config;

                    //// å¦‚æœæ‰¾åˆ°å¾Œç½®é¡é ­ â†’ å„ªå…ˆä½¿ç”¨ environment
                    //if (rearCamera) {
                    //    config = { facingMode: { exact: "environment" } };
                    //}
                    //// è‹¥æ²’æœ‰å¾Œç½®é¡é ­è³‡è¨Š â†’ ä½¿ç”¨ä¸€èˆ¬ environmentï¼ˆé¿å…å ±éŒ¯ï¼‰
                    //else {
                    //    config = { facingMode: "environment" };
                    //}



                    // å•Ÿå‹•æƒæ
                    await html5QrCode.start(config, qrConfig, onScanSuccess, onScanFailure);

                    isScanning = true;
                    startBtn.disabled = true;
                    stopBtn.disabled = false;

                    showStatus('æƒæå·²å•Ÿå‹•ï¼Œè«‹å°‡ QR Code å°æº–é¡é ­', 'success');

                } catch (err) {
                    console.error('å•Ÿå‹•æƒæå¤±æ•—:', err);
                    showStatus(`ç„¡æ³•å•Ÿå‹•æƒæ: ${err.message}`, 'error');
                }
            }

            /**
             * åœæ­¢æƒæ
             */
            async function stopScanning() {
                if (!isScanning || !html5QrCode) return;

                try {
                    await html5QrCode.stop();
                    isScanning = false;
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                    showStatus('æƒæå·²åœæ­¢', 'info');
                } catch (err) {
                    console.error('åœæ­¢æƒæå¤±æ•—:', err);
                    showStatus('åœæ­¢æƒææ™‚å‡ºéŒ¯', 'error');
                }
            }

            /**
             * é é¢å¸è¼‰æ™‚æ¸…ç†è³‡æº
             */
            window.addEventListener('beforeunload', async () => {
                if (html5QrCode && isScanning) {
                    try {
                        await html5QrCode.stop();
                    } catch (e) {
                        console.error('é é¢å¸è¼‰æ™‚åœæ­¢æƒæå¤±æ•—:', e);
                    }
                }
            });
        </script>
    </body>
    </html>*@





<html>

<head>
    <title>Html-Qrcode Demo ä¿®æ­£ç‰ˆ</title>

    <link rel="icon" type="image/png" href="/Content/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/Content/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/Content/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/Content/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/Content/favicon/site.webmanifest" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" content="notranslate">
    <meta name="robots" content="noindex">
    <meta name="googlebot" content="noindex">
    <link href="/Content/IconSetting.css?20171119" rel="stylesheet" />
    <link href="/Content/jquery.datetimepicker.css" rel="stylesheet" />
    <link href="/Content/bootstrap.min.css" rel="stylesheet" />
    <link href="/Content/navbarfix.css" rel="stylesheet" />
    <link href="/Content/TCIMainMenu.css?20181207" rel="stylesheet" />
    <link href="/Content/font-awesome.min.css" rel="stylesheet" />
    <link href="/Content/ui-grid.min.css" rel="stylesheet" />
    <link href="/Content/select.min.css" rel="stylesheet" />
    <link href="/Content/ng-table/ng-table.min.css" rel="stylesheet" />
    <link href="/Content/main.css" rel="stylesheet" />
    <link href="/Content/Common.css" rel="stylesheet" />
    <link href="/Content/colorbox.css" rel="stylesheet" type="text/css">
    <link href="/Content/_BillSignAnimate.css" rel="stylesheet" />
    <link href="/Content/angular-ui-tree.min.css" rel="stylesheet" />
    <link href=/Content/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="/Content/tci-all.css?2025/11/23 ä¸‹åˆ 04:09:45" rel="stylesheet" />
    <link href="/Content/TCI_Notice.css" rel="stylesheet" />  <!--å…¬å‘Šå½±ç‰‡css-->
    <!--tag input-->
    <link rel="stylesheet" href="Content/ng-tags-input.min.css" />
    <link href="/Content/EBCard/tci-all.css" rel="stylesheet" />
    <link href="/Content/EBCard/backstage.css" rel="stylesheet" />
    <script src="https://unpkg.com/html5-qrcode"></script>

    <style type="text/css">
        body {
            font-size: 10pt;
            margin: 0px;
            padding: 0px;
            font-family: 'å¾®è»Ÿæ­£é»‘é«”','Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
            -webkit-overflow-scrolling: touch;
        }

        .english-block .content_info,
        .english-block .content_input {
            display: flex !important;
            flex-direction: column !important;
            width: 100%;
        }

        .english-block .tci-form-control {
            display: block !important;
            width: 100% !important;
        }

        .english-block {
            display: flex !important; /* æ°´å¹³æ’åˆ—ï¼šåœ–ç‰‡åœ¨å·¦ï¼Œå³é‚Šå€å¡Šåœ¨å³ */
            flex-direction: row !important;
            align-items: flex-start; /* ä¸Šå°é½Šåœ–ç‰‡å’Œå³å´å€å¡Š */
        }

            .english-block .content_info {
                display: flex !important;
                flex-direction: column !important; /* å‚ç›´æ’åˆ—æ¯å€‹ input å€å¡Š */
                width: 60%; /* å³å´å€å¡Šå¯¬åº¦ï¼Œå¯èª¿æ•´ */
                margin-left: 20px; /* èˆ‡åœ–ç‰‡ä¿æŒé–“è· */
            }

                .english-block .content_info .content_input {
                    display: flex !important;
                    flex-direction: column !important; /* å‚ç›´æ’åˆ— label + input */
                    margin-bottom: 10px; /* æ¯å€‹ input å€å¡Šä¹‹é–“é–“è· */
                }

            .english-block .content_pic {
                width: 40%; /* å·¦å´åœ–ç‰‡å€å¡Šå¯¬åº¦ï¼Œå¯èª¿æ•´ */
                text-align: center;
            }
    </style>
</head>

<body>


    <div class="container-fluid" style="line-height: 2;">

        <div class="pageHeader">
            <span class="pageHeaderTitle" style="font-size: 24px;">
                <b>éŸ³æ¨‚æœƒå ±åˆ°</b>
            </span>

            @*<span class="pageHeaderTitle" style="font-size: 20px;">
                    <label class="tci-btn bg_darkblue openHistory" onclick="window.open('Instructions.pdf')">
                        <i class="fa fa-question-circle" aria-hidden="true" style="width:20px"></i>
                        èªªæ˜æ–‡ä»¶ä¸‹è¼‰(ä¸­è‹±æ–‡)
                    </label>
                </span>*@
        </div>
        <hr>
        <!-- è¡¨å–®ï¼ˆå·²éœæ…‹åŒ–ï¼‰ -->
        <section class="person container">

            @*<div class="person_info">


                <div class="person_img">
                    <img src="~/Content/EBCard/TCILogo.png" id="imgEmpPic" />
                </div>*@




            @*<div style="text-align: center;">
                    <label class="tci-btn tci-btn-orgin">
                        <input id="file" style="display:none;" type="file">
                        <span>æ›´æ”¹ç…§ç‰‡</span>
                    </label>

                    <label class="tci-btn tci-btn-orgin">
                        <input style="display:none;" type="button">
                        <span>æ¸…é™¤ç…§ç‰‡</span>
                    </label>
                </div>*@
            @*</div>*@

            <div class="content">

                <!-- English Name -->
                <div class="content_box tci-mb-3 well english-block">
                    <!-- å·¦å´ QR Code -->
                    <div class="content_pic">
                        @*<img src="~/Content/EBCard/TCILogo.png" id="imgEmpPic" style="width:150px; height:auto;" />*@
                        @*<div id="qr-reader" style="width:250px; margin:auto;"></div>
                        <div id="qr-reader-results" style="text-align:center; margin-top:10px;"></div>*@
                        <div id="reader" style="width:250px; margin:auto;"></div>
                        <div id="result" style="text-align:center; margin-top:10px"></div>
                    </div>


                    <!-- å³å´è¼¸å…¥å€å¡Š -->
                    <div class="content_info" style="margin-left:50px">
                        <div class="content_input">
                            <div style="display:flex; flex-direction:row; align-items:center;">
                                <span style="margin-right:10px; white-space:nowrap;">åˆ†é¡</span>
                                <input type="text" class="tci-form-control gray" value="" disabled>
                            </div>
                        </div>
                        <div class="content_input">
                            <div style="display:flex; flex-direction:row; align-items:center;">
                                <span style="margin-right:10px; white-space:nowrap;">å…¬å¸</span>
                                <input type="text" class="tci-form-control gray" value="" disabled>
                            </div>
                        </div>
                        <div class="content_input">
                            <div style="display:flex; flex-direction:row; align-items:center;">
                                <span style="margin-right:10px; white-space:nowrap;">åç¨±</span>
                                <input type="text" class="tci-form-control gray" value="" disabled>
                            </div>
                        </div>
                        <div class="content_input">
                            <div style="display:flex; flex-direction:row; align-items:center;">
                                <span style="margin-right:10px; white-space:nowrap;">è·ç¨±</span>
                                <input type="text" class="tci-form-control gray" value="" disabled>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            @*<div class="person_text">
                    <span>å€‹äººç°¡ä»‹ï¼š</span>
                    <textarea class="tci-form-control">é€™è£¡æ˜¯å€‹äººç°¡ä»‹çš„å…§å®¹ã€‚</textarea>
                </div>*@
        </section>

        <hr>

        <section class="container">
            <!--<div class="content">-->
            <!-- English Name -->
            <!--<div class="content_box tci-mb-3 well">
                <div class="content_pic">
                    <div class="content_img">
                        <img src="/Content/EBCard/all-146.png" alt="English Name">
                    </div>
                    <div class="content_name"><span>English Name</span></div>
                </div>

                <div class="content_info">
                    <div class="content_input">
                        <span>Enter English Name</span>
                        <input type="text" class="tci-form-control" placeholder="John Doe">
                    </div>
                </div>
            </div>-->
            <!-- Email -->
            <!--<div class="content_box tci-mb-3 well">
                <div class="content_pic">
                    <div class="content_img">
                        <img src="/Content/EBCard/BusinessCard-07.png" alt="Email">
                    </div>
                    <div class="content_name"><span>Email</span></div>
                </div>

                <div class="content_info">
                    <div class="content_input">
                        <input type="text" class="tci-form-control gray" value="sample@example.com" disabled>
                    </div>
                </div>
            </div>-->
            <!-- Mobile -->
            <!--<div class="content_box tci-mb-3 well">
                    <div class="content_pic">
                        <div class="content_img">
                            <img src="/Content/EBCard/BusinessCard_phone-21.png" alt="Mobile">
                        </div>
                        <div class="content_name"><span>Mobile</span></div>
                    </div>

                    <div class="content_info">
                        <div class="content_input">
                            <input type="text" class="tci-form-control gray" value="0912-345-678" disabled>
                        </div>
                    </div>
                </div>

            </div>-->

            <div class="btnGroups">
                <button class="tci-btn bg_darkgreen">å„²å­˜</button>
            </div>
        </section>

        <!-- Browsing History Modal -->
        <div id="watchModel" class="modal fade">
            <div class="modal-dialog modal-ku">
                <div class="modal-content">
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">ç€è¦½è¨˜éŒ„</h4>
                    </div>

                    <div class="modal-body" id="listHistory">
                        <!-- éœæ…‹ç¤ºä¾‹ -->
                        <p>å°šç„¡ç€è¦½è¨˜éŒ„</p>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">é—œé–‰</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script>
        let html5QrCode = null;

        async function startScanning() {
            if (html5QrCode) return;

            try {
                const cameras = await Html5Qrcode.getCameras();
                if (!cameras || cameras.length === 0) {
                    alert("æœªåµæ¸¬åˆ°æ”å½±æ©Ÿï¼Œè«‹æª¢æŸ¥è¨­å‚™æ¬Šé™");
                    return;
                }

                // å„ªå…ˆå¾Œé¡é ­
                let rearCam = cameras.find(cam =>
                    cam.label.toLowerCase().includes('back') ||
                    cam.label.toLowerCase().includes('rear') ||
                    cam.label.toLowerCase().includes('environment')
                );
                let cameraConfig = rearCam
                    ? { facingMode: { exact: "environment" } }
                    : { facingMode: "environment" };

                html5QrCode = new Html5Qrcode("reader");

                const qrConfig = {
                    fps: 15,                     // æ¯ç§’å¹€æ•¸
                    qrbox: { width: 250, height: 250 },
                    disableFlip: false
                };

                await html5QrCode.start(
                    cameraConfig,
                    qrConfig,
                    (decodedText) => {
                        document.getElementById('result').textContent = `æƒæåˆ°: ${decodedText}`;
                    },
                    (error) => {
                        // éœé»˜å¤±æ•—ï¼Œä¸é¡¯ç¤º
                    }
                );
            } catch (err) {
                console.error("æƒæå•Ÿå‹•å¤±æ•—:", err);
                alert("æƒæå•Ÿå‹•å¤±æ•—: " + err);
            }
        }

        // å•Ÿå‹•æƒæ
        startScanning();

        // å¸è¼‰é é¢æ™‚é‡‹æ”¾æ”å½±æ©Ÿ
        window.addEventListener('beforeunload', async () => {
            if (html5QrCode) {
                try { await html5QrCode.stop(); } catch (e) { }
            }
        });
    </script>


</body>
</html>






